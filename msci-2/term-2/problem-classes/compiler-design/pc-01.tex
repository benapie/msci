\pc{1}{20/01}

\question
\begin{parts}
    \part Provide a compact description of the language generated by the following context-free grammar:
    \begin{align*}
        S &\to bSbb \mid A \\
        A &\to aA   \mid \varepsilon.
    \end{align*}
    \begin{solution}
        Let $L$ be the language described by the context-free grammar above.
        Then
        \[ L = \{ b^n a^m b^{2n} : n, m \geq 0 \}. \]
    \end{solution}

    \part Give a context-free grammar that generates the language of all strings over the alphabet 
    ${a, b}$ that contain an unequal number of $a$'s and $b$'s.
    \begin{solution}
        \begin{align*}
            S &\to U \mid V \\
            U &\to TaU \mid TaT \mid UaT \\
            V &\to TbV \mid TbT \mid VbT \\
            T &\to aTbT \mid bTaT \mid \varepsilon.
        \end{align*}
        $T$ alone describes the language of strings with an equal number of $a$'s and $b$'s.
        $U$ generates the language of strings such that there is more $a$'s then $b$'s and
        $V$ generates the language of strings such that there is more $b$'s then $a$'s.
    \end{solution}

    \part Consider the following grammar rule:
    \[ A \to A \alpha \mid \beta \]
    in which the non-terminal symbol $A$ is left recursive 
    (in particular, this is an immediate left recursion, as it appears in a single grammar rule). 
    Rewrite this grammar rule such that there is no left recursion any more 
    (elimination of left recursion).
    \begin{solution}
        \begin{align*}
            A  &\to \beta A' \\
            A' &\to \alpha A' \mid \varepsilon.
        \end{align*}
    \end{solution}
\end{parts}

\question Assume that we have two available compilers:
\begin{enumerate}
    \item one that is written in C and compiles Java code to Machine code
    \item one that is written in Assembly and compiles C code to Machine code
\end{enumerate}
Furthermore, we need to create a new compiler that will be written in Machine code and will compile Java code to 
Machine code. 
Show diagrammatically how to construct such a compiler using T-diagrams.
\begin{solution}
    \begin{center}
        \begin{tikzpicture}
            \matrix (m) [matrix of nodes] {
                J & $\to$ & M &       & J & $\to$ & M \\
                  & C     & C & $\to$ & M & M     &   \\
                  &       &   & A     &   &       &   \\
              };
            \draw (m-1-1.south west) |- 
                (m-1-3.north east) |- 
                (m-2-2.north east) |- 
                (m-2-2.south west) |- 
                (m-1-1.south west);
            \draw (m-2-2.south east) |- 
                (m-2-5.north east) --
                (m-2-5.south east) -- 
                (m-2-5.south west) |- 
                (m-3-4.south west) |- 
                (m-2-2.south east);
            \draw (m-2-5.north west) |- 
                (m-1-7.north east) |- 
                (m-2-6.north east) |- 
                (m-2-5.south east) |- 
                (m-2-5.north west);
        \end{tikzpicture}
    \end{center}
\end{solution}

\question Given the grammar:
\begin{align*}
    S &\to A \mid B \mid C    \\
    A &\to B \mid \varepsilon \\
    B &\to x \mid Cy          \\
    C &\to BCS
\end{align*}
in which $S$ is the start symbol.
\begin{parts}
    \part Name the non-terminals that are left-recursive, right-recursive, nullable, or useless, if any.
    \begin{solution}
        \begin{enumerate}
            \item $B$ and $C$ are left-recursive;
            \item $C$ and $S$ are right-recursive;
            \item $S$ and $A$ are nullable; and
            \item $C$ is useless.
        \end{enumerate}
    \end{solution}

    \part What is the language that this grammar produces?
    \begin{solution}
        \[ L = \{\varepsilon, x\}. \]
    \end{solution}
\end{parts}

\question Write regular expressions for the following languages:
\begin{parts}
    \part strings over the alphabet $\{a, b, c\}$ with exactly two $b$'s;
    \begin{solution}
        \[ (a \mid c)^\star b (a \mid c)^\star b (a \mid c)^\star. \]
    \end{solution}

    \part strings over the alphabet $\{a, b, c\}$ where the first $a$ precedes any occurence of $b$ and
    the first $b$ precedes any occurrence of $c$;
    \begin{solution}
        \[ a^\star (\varepsilon \mid ab(a \mid b \mid c)^\star). \]
    \end{solution}

    \part strings over the alphabet $\{0, 1\}$ that describe binary integers (with no leading zeros)
    that represent a value of the form $2^n + 1$, where $n \geq 0$.
    \begin{solution}
        \[ (10) \mid (10^\star1). \]
    \end{solution}
\end{parts}

\question Construct context free grammars over the alphabet $\{0, 1\}$ that accept the following languages:
\begin{parts}
    \part $\{w : w \;\text{starts and ends with the same symbol}\}$;
    \begin{solution}
        \begin{align*}
            S &\to 1A1 \mid 0A0 \mid 1 \mid 0 \\
            A &\to 0A \mid 1A \mid \varepsilon.
        \end{align*}
    \end{solution}

    \part $\{w : \lvert w \rvert \;\text{is odd}\}$;
    \begin{solution}
        \begin{align*}
            S &\to 0A \mid 1A \\
            A &\to 0S \mid 1S \mid \varepsilon.
        \end{align*}
    \end{solution}

    \part $\{w : \lvert w \rvert \;\text{is odd and its middle symbol is $0$}\}$;
    \begin{solution}
        \[ S \to 0 \mid 0S0 \mid 0S1 \mid 1S0 \mid 1S1. \]
    \end{solution}

    \part $\{0^n1^n : n > 0\} \cup \{0^n1^{2n} : n > 0 \}$; and
    \begin{solution}
        \begin{align*}
            S &\to 0A1 \mid 0B11 \\
            A &\to 0A1 \mid \varepsilon \\
            B &\to 0B11 \mid \varepsilon.
        \end{align*}
    \end{solution}

    \part binary strings with twice as many $1$'s as $0$'s.
    \begin{solution}
        \begin{align*}
            S &\to \varepsilon \mid 0S1S1S \mid 1S0S1S \mid 1S1S0S.
        \end{align*}
    \end{solution}
\end{parts}
